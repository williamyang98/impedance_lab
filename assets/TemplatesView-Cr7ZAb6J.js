import{d as B,s as q,j as f,a as N,k as $,b as o,g as r,h as m,w as D,u as E,q as z,e as L,f as O,r as T,D as U,o as l,t as F}from"./index-a3sSa0D5.js";import{f as M,a as P,b as R,C as A,d as G,e as H,B as I,g as J,S as K}from"./editor_templates-CQLbPOQt.js";import{f as y}from"./fuzzysort-EuvyY0K8.js";import{S as Q}from"./search-vctILLaD.js";const W={class:"flex flex-col h-full w-full gap-y-1"},X={class:"flex flex-row justify-center w-full my-1"},Y={class:"input w-full sm:w-[25rem]"},Z={class:"h-full w-full overflow-y-auto"},ee={class:"w-full grid grid-cols-[repeat(auto-fit,minmax(20rem,1fr))] gap-x-2 gap-y-2"},te=["href"],se={class:"card-body p-3"},re={class:"card-title w-full justify-center text-center"},ae={class:"w-full h-full flex flex-col justify-center"},oe={class:"w-full rounded-sm bg-white"},le={key:0,class:"text-center py-2 w-full"},_e=B({__name:"TemplatesView",setup(ce){const h=q.user_data.value,v=new M(h);function u(e){return[e.type,e.layer,e.trace].join(" ").split(" ").map(s=>{var t;return((t=s.at(0))==null?void 0:t.toUpperCase())+s.substring(1).toLowerCase()}).join(" ")}function g(e){return`type=${e.type}&layer=${e.layer}&trace=${e.trace}`}const c=[],w=[{name:"colinear",ctor:A,layer_templates:R,trace_templates:P},{name:"broadside",ctor:I,layer_templates:H,trace_templates:G}];for(const e of w)for(const[s,t]of Object.entries(e.layer_templates))for(const[a,j]of Object.entries(e.trace_templates)){const C=new e.ctor(v,j,t),_={type:e.name,trace:a,layer:s},d=u(_),V=y.prepare(d);c.push({editor:C,tag:_,title:d,prepared_title:V})}const k={...J(),stackup_minimum_width:150,stackup_minimum_x_padding:25},b=U();function x(e){const t=`/2d_stackup/editor?${g(e.tag)}`;return b.resolve(t).href}const n=f(void 0),i=f(void 0),p=N(()=>{const e=i.value;return e===void 0?c:e.map(s=>s.template)});function S(e){if(e===void 0||e.length===0){i.value=void 0;return}const s=[];for(const t of c){const a=y.single(e,t.prepared_title);a!==null&&s.push({template:t,result:a})}s.sort((t,a)=>a.result.score-t.result.score),i.value=s}return $(n,e=>{S(e)}),(e,s)=>(l(),o("div",W,[r("div",X,[r("label",Y,[m(E(Q),{class:"w-[1.25rem] h-[1.25rem]"}),D(r("input",{type:"search",placeholder:"Search","onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t)},null,512),[[z,n.value]])])]),r("div",Z,[r("div",ee,[(l(!0),o(O,null,T(p.value,(t,a)=>(l(),o("a",{key:a,class:"card card-border bg-base-100 hover:bg-base-300 select-none cursor-pointer",href:x(t)},[r("div",se,[r("div",re,F(u(t.tag)),1),r("div",ae,[r("div",oe,[m(K,{stackup:t.editor.get_simulation_stackup(),config:k},null,8,["stackup"])])])])],8,te))),128))]),p.value.length===0?(l(),o("div",le,s[1]||(s[1]=[r("h1",{class:"text-2xl"},"No search results",-1)]))):L("",!0)])]))}});export{_e as default};
